[pytest]
# Restrict discovery to project tests
testpaths = tests

# Standard naming patterns
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Do not recurse into external/vendor or tooling directories
norecursedirs =
    .*
    build
    dist
    docs
    docker
    vnpy_ctp-6.7.7.2
    .venv
    venv
    __pycache__

# Asyncio plugin configuration
asyncio_mode = auto

# Show summary for skips/xfails/etc., with coverage reporting
# Note: --cov-fail-under temporarily disabled until we reach 50% coverage
addopts = -ra --cov=src/cherryquant --cov-report=term-missing --cov-report=html --cov-report=xml

# Tame noisy warnings from dependencies
filterwarnings =
    ignore::DeprecationWarning
    ignore::UserWarning
