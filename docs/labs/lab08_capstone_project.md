# Lab 08: 毕业项目 - 完整量化交易系统

## 实验信息

- **难度**: ⭐⭐⭐⭐⭐ 挑战
- **预计时间**: 20+ 小时（可分多周完成）
- **相关模块**: 所有模块
- **截止日期**: Week 10 结束

## 学习目标

完成本项目后，你将能够：

1. ✅ 独立设计并实现一个完整的量化交易系统
2. ✅ 整合数据采集、清洗、存储、查询全流程
3. ✅ 实现 AI 决策引擎或技术指标策略
4. ✅ 完成回测并优化策略
5. ✅ 实现风险管理和监控告警
6. ✅ 编写专业的项目文档和展示材料

## 项目概述

这是一个**开放性项目**，你需要：

1. **选择一个方向**（见下方选题）
2. **设计系统架构**
3. **实现核心功能**
4. **测试和优化**
5. **撰写项目报告**
6. **进行项目答辩**（可选）

**时间规划建议：**
- Week 1: 选题和设计（4-6 小时）
- Week 2-3: 核心功能实现（10-12 小时）
- Week 4: 测试、优化、文档（6-8 小时）

---

## 项目选题

### 选题 A: 多因子选股策略（推荐）

**难度**: ⭐⭐⭐⭐

**描述**:
基于多个技术指标和基本面因子，构建选股模型。

**要求**:
1. 实现至少 5 个技术指标（MA, RSI, MACD, Bollinger, ATR）
2. 数据来源：Tushare Pro（日线数据）
3. 回测时间：至少 1 年
4. 风险控制：仓位管理、止损止盈
5. 性能目标：年化收益 > 10%, 夏普比率 > 1.0

**技术栈**:
- 数据管道（Tushare + MongoDB）
- 技术指标库
- 回测引擎
- 性能分析

**加分项**:
- 因子有效性分析（IC, IR）
- 参数优化（网格搜索）
- 因子组合优化

---

### 选题 B: AI 驱动的期货交易策略

**难度**: ⭐⭐⭐⭐⭐

**描述**:
使用 LLM（GPT-4/Claude）分析市场数据，生成交易决策。

**要求**:
1. 实现 Prompt Engineering 框架
2. 集成多时间周期分析（5分钟、1小时、日线）
3. 实现 Few-shot Learning
4. 回测并评估 AI 决策质量
5. 成本控制（API 调用优化）

**技术栈**:
- AI 决策引擎
- 数据管道
- 回测引擎
- Prompt 模板管理

**加分项**:
- RAG 系统（市场新闻、研报检索）
- 多模型对比（GPT vs Claude vs 本地模型）
- Prompt 评估体系

---

### 选题 C: 高频统计套利策略

**难度**: ⭐⭐⭐⭐⭐

**描述**:
识别高相关性品种（如螺纹钢-热卷），进行统计套利。

**要求**:
1. 实现协整检测（ADF 检验）
2. 计算价差（Spread）
3. Z-Score 策略
4. 高频数据回测（分钟级）
5. 滑点和成本建模

**技术栈**:
- 统计分析（scipy, statsmodels）
- 数据管道（高频数据）
- 回测引擎
- 性能优化

**加分项**:
- 卡尔曼滤波优化价差
- 机器学习预测价差
- 实时监控系统

---

### 选题 D: 风险平价组合管理

**难度**: ⭐⭐⭐⭐

**描述**:
构建风险平价组合，平衡不同资产的风险贡献。

**要求**:
1. 实现协方差矩阵计算
2. 风险平价优化算法
3. 定期再平衡策略
4. 回测并对比等权重组合
5. 风险归因分析

**技术栈**:
- 数学优化（scipy.optimize）
- 组合管理
- 风险分析
- 回测引擎

**加分项**:
- Black-Litterman 模型
- 动态风险预算
- 交易成本优化

---

### 选题 E: 自定义项目

**难度**: 根据选题而定

**如果你有自己的想法，可以自定义项目**，但需要包含：

1. 数据采集和存储（使用 CherryQuant 数据管道）
2. 策略实现（技术指标或 AI）
3. 回测验证
4. 风险管理
5. 完整文档

**提案模板**:
```markdown
# 项目提案

## 项目名称
XXX 量化交易策略

## 项目背景
（为什么选择这个项目？要解决什么问题？）

## 技术方案
（使用哪些技术？架构设计？）

## 预期成果
（最终交付什么？性能目标？）

## 时间规划
（Week 1-4 分别做什么？）

## 风险和挑战
（可能遇到哪些困难？如何应对？）
```

---

## 项目要求

### 最低要求（及格）

- [ ] 系统能够运行，无重大 Bug
- [ ] 完成数据采集和存储
- [ ] 实现至少一个策略
- [ ] 完成回测并生成报告
- [ ] 提交代码和文档

### 良好要求（80分+）

- [ ] 代码质量高，有测试覆盖
- [ ] 策略有一定效果（正收益或夏普比率 > 0）
- [ ] 文档完整，包含设计说明
- [ ] 有风险管理模块
- [ ] 有可视化分析

### 优秀要求（90分+）

- [ ] 架构设计清晰，代码优雅
- [ ] 策略表现优秀（年化 > 10%, 夏普 > 1.0）
- [ ] 文档专业，包含完整的研究过程
- [ ] 有创新点（如 AI、多因子、统计套利等）
- [ ] 有完善的监控和告警

### 卓越要求（95分+）

- [ ] 可以直接用于生产环境
- [ ] 有深入的理论分析和实证研究
- [ ] 有独特的创新和贡献
- [ ] 代码可作为开源项目发布
- [ ] 答辩表现出色

---

## 项目结构模板

```
my_quant_project/
├── README.md                 # 项目说明
├── requirements.txt          # 依赖
├── .env.example             # 环境变量模板
│
├── src/
│   ├── strategy/            # 策略实现
│   │   └── my_strategy.py
│   ├── backtest/            # 回测逻辑
│   │   └── backtest_runner.py
│   ├── risk/                # 风险管理
│   │   └── risk_manager.py
│   └── utils/               # 工具函数
│       └── indicators.py
│
├── data/                    # 数据（不提交到 Git）
│   ├── raw/                 # 原始数据
│   └── processed/           # 处理后数据
│
├── tests/                   # 测试
│   ├── test_strategy.py
│   └── test_backtest.py
│
├── notebooks/               # Jupyter 笔记本（分析）
│   ├── 01_data_exploration.ipynb
│   ├── 02_strategy_development.ipynb
│   └── 03_backtest_analysis.ipynb
│
├── docs/                    # 文档
│   ├── proposal.md          # 项目提案
│   ├── design.md            # 设计文档
│   ├── backtest_report.md   # 回测报告
│   └── final_report.md      # 最终报告
│
└── results/                 # 结果输出
    ├── equity_curve.png
    ├── performance_metrics.json
    └── trade_analysis.csv
```

---

## 提交清单

### 代码提交

- [ ] 所有代码已提交到 Git 仓库
- [ ] README.md 包含运行说明
- [ ] 有 requirements.txt 或 pyproject.toml
- [ ] 代码通过 pytest 测试

### 文档提交

- [ ] **项目提案**（proposal.md）
- [ ] **设计文档**（design.md）
  - 系统架构图
  - 数据流图
  - 核心模块说明
- [ ] **回测报告**（backtest_report.md）
  - 策略逻辑
  - 回测结果
  - 性能分析
  - 改进方向
- [ ] **最终报告**（final_report.md）
  - 项目总结
  - 技术亮点
  - 遇到的问题及解决方案
  - 心得体会

### 成果展示

- [ ] **权益曲线图**
- [ ] **性能指标表**
- [ ] **交易分析图表**
- [ ] **演示视频**（可选，3-5 分钟）

---

## 评分标准

| 维度 | 权重 | 评分要点 |
|------|------|----------|
| **代码质量** | 25% | 架构设计、代码规范、测试覆盖率 |
| **功能完整性** | 25% | 是否实现所有必需功能 |
| **策略效果** | 20% | 回测表现、风险控制 |
| **文档质量** | 15% | 完整性、清晰度、专业性 |
| **创新性** | 10% | 技术创新、独特见解 |
| **答辩表现** | 5% | 讲解清晰、回答问题 |

---

## 常见问题

### Q1: 我没有 API Key 怎么办？

可以使用 CherryQuant 的数据模拟功能，或者：
- 使用公开数据集（如 Yahoo Finance）
- 使用样本数据（`data/samples/`）

### Q2: 策略回测效果不好怎么办？

这是正常的！重点不是收益率，而是：
- 系统设计是否合理
- 代码质量是否过关
- 分析是否深入
- 是否有改进思路

### Q3: 时间不够怎么办？

可以：
- 选择较简单的选题（选题 A）
- 缩小范围（如只做 2-3 个品种）
- 专注核心功能，放弃加分项

### Q4: 可以组队吗？

可以 2-3 人组队，但需要：
- 明确分工
- 每人都要贡献代码
- 答辩时各自讲解负责部分

---

## 示例项目参考

### 示例 1: 双均线策略

**GitHub**: [链接]

**亮点**:
- 代码结构清晰
- 测试覆盖率 85%
- 完整的回测报告
- 可视化分析

### 示例 2: AI 多因子策略

**GitHub**: [链接]

**亮点**:
- 使用 RAG 检索市场新闻
- 多模型对比
- Prompt 工程优化
- 成本控制

---

## 答辩准备（可选）

如果有答辩环节，准备以下内容：

1. **PPT（10-15 页）**
   - 项目背景和目标
   - 系统架构
   - 核心技术
   - 回测结果
   - 心得体会

2. **演示**
   - 运行系统（2-3 分钟）
   - 展示关键功能
   - 展示结果图表

3. **Q&A 准备**
   - 为什么选择这个策略？
   - 遇到的最大挑战？
   - 如果给更多时间，会如何改进？
   - 这个项目对你有什么收获？

---

## 最后的话

这个毕业项目是你展示所学的机会。不要只追求"完成任务"，而要：

- 🎯 **追求质量**：写出你自豪的代码
- 🧠 **深入思考**：理解背后的原理
- 💡 **勇于创新**：尝试新的想法
- 📝 **记录过程**：写下思考和收获

**记住**：量化交易不是"一夜暴富"的魔法，而是：
- 严谨的数据分析
- 扎实的代码实现
- 科学的风险管理
- 持续的学习优化

祝你成功！🎓

---

**提交方式**:
- 发送邮件至 [教师邮箱]
- 主题：`[CherryQuant毕业项目] 学号-姓名`
- 附件：代码压缩包 + 文档 PDF

**截止日期**: Week 10 结束（具体日期见课程安排）

---

**有问题随时联系助教或老师！Good luck! 🚀**
